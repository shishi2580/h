name: ğŸš€ Build Siyu Kernel for K20 Pro

on: [workflow_dispatch]

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“¥ ä¸‹è½½Siyu Kernelæºç 
      run: |
        echo "æ­£åœ¨ä¸‹è½½Siyu Kernelï¼ˆsukiuï¼‰..."
        git clone https://github.com/yaoxiaotian/sukiu.git --depth=1
        cd sukiu
        echo "å†…æ ¸ç‰ˆæœ¬ï¼š"
        grep "VERSION\|PATCHLEVEL" Makefile
        
    - name: ğŸ”§ å®‰è£…ç¼–è¯‘å·¥å…·
      run: |
        sudo apt update
        sudo apt install -y \
          build-essential \
          gcc-aarch64-linux-gnu \
          gcc-10-aarch64-linux-gnu \
          libssl-dev \
          bc \
          flex \
          bison \
          libelf-dev \
          git \
          curl
        
    - name: âš™ï¸ é…ç½®Siyu Kernel
      run: |
        cd sukiu
        
        export ARCH=arm64
        export CROSS_COMPILE=aarch64-linux-gnu-
        
        # Siyu Kernelçš„é…ç½®
        make raphael_defconfig
        
        echo "Siyu Kernelç‰¹æ€§ï¼š"
        echo "- å·²é›†æˆKernelSU"
        echo "- æ”¯æŒå±å¹•è¶…é¢‘"
        e
